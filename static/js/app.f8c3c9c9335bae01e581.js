webpackJsonp([2,0],[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var r=i(19),n=s(r),o=i(9),a=s(o),l=i(83),c=s(l),d=i(34),u=s(d),f=i(33),h=s(f),p=i(95),g=i(93),v=s(g),m=i(82),C=s(m);i(73),a.default.use(v.default),a.default.http.options.emulateJSON=!0,a.default.use(C.default),(0,p.sync)(u.default,h.default),new a.default((0,n.default)({router:h.default,store:u.default},c.default)).$mount("#app")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),n=s(r),o=i(94),a=s(o),l=i(35),c=i(87),d=s(c);n.default.use(a.default),e.default=new a.default({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/",component:(0,l.createListView)("design")},{path:"/design",component:(0,l.createListView)("design")},{path:"/photography",component:(0,l.createListView)("photography")},{path:"/profile",component:d.default},{path:"/design*",redirect:"/design"},{path:"/photography*",redirect:"/photography"},{path:"/profile*",redirect:"/profile"},{path:"*",redirect:"/"}]})},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(43),n=s(r),o=i(9),a=s(o),l=i(32),c=s(l);a.default.use(c.default);var d="static/design.json",u="static/photography.json",f="static/user.json",h=new c.default.Store({state:{user:{},design:[],photography:[]},actions:{FETCH_DESIGN:function(t){var e=(t.commit,t.state);return a.default.http.get(d).then(function(t){var i,s=t.body;return(i=e.design).push.apply(i,(0,n.default)(s.list)),e.design})},FETCH_PHOTO:function(t){var e=(t.commit,t.state);return a.default.http.get(u).then(function(t){var i,s=t.body;return(i=e.photography).push.apply(i,(0,n.default)(s.list)),e.photography})},FETCH_USER:function(t){var e=(t.commit,t.state);return a.default.http.get(f).then(function(t){var i=t.body;return e.user=i,e.user})}},mutations:{},getters:{isDesignActive:function(t){return"/design"===t.route.path},isPhotoActive:function(t){return"/photography"===t.route.path},isUserActive:function(t){return"/about"===t.route.path}}});e.default=h},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t){return{name:t+"-stories-view",render:function(e){return e(o.default,{props:{type:t}})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.createListView=r;var n=i(85),o=s(n)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(19),n=s(r),o=i(32);e.default={name:"app",computed:(0,n.default)({},(0,o.mapGetters)(["isDesignActive","isPhotoActive","isUserActive"]))}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(20),n=s(r),o=i(80),a=s(o),l=["January","February","March","April","May","June","July","August","September","October","November","December"],c="px",d=900;e.default={name:"work-item",props:["item","index"],data:function(){return{workItemOv:!1,itemClicked:!1,isOpen:!1,toggleOpen:!1,teaserScrollArrowShow:!1,teaserLoadingBgShow:!1,teaserLoadingShow:!1,teaserPicShow:!0,teaserAbsClass:!1,teaserHideClass:!1,listShowClass:!1,listWrapHeight:0,infoWhiteHeaderChanged:!1,infoWhiteDescChanged:!1,infoWhiteHeaderClip:{clip:"auto"},infoWhiteDescClip:{clip:"auto"},defaultHeaderClip:"",defaultDescClip:"",styleInfoWhite:{marginLeft:"",marginRight:""},styleInfoWhiteRev:{marginLeft:"",marginRight:""},styleInfoHeader:{width:"",height:""},styleInfoDesc:{width:"",height:""},infoFixed:!1,infoTop:0,pictureHeight:0,waitStartTime:0}},computed:{triggerCursor:function(){return this.itemClicked?"wait":"pointer"},itemOdd:function(){return(this.index+1)%2===1},itemTitle:function(){return l[this.item.month-1]+" "+this.item.year}},mounted:function(){this.calculateInfo(),window.addEventListener("scroll",this.itemScroll)},destroy:function(){window.removeEventListener("scroll",this.itemScroll)},methods:{calculateInfo:function(){var t=this.$refs.infoHeader,e=this.$refs.infoDesc,i=t.clientWidth,s=t.clientHeight,r=e.clientWidth,n=e.clientHeight;this.styleInfoHeader.width=i+c,this.styleInfoHeader.height=s+c,this.styleInfoDesc.width=r+c,this.styleInfoDesc.height=n+c,this.itemOdd?(this.styleInfoWhite.marginLeft="195px",this.styleInfoWhiteRev.marginLeft="-195px"):(this.styleInfoWhite.marginRight="195px",this.styleInfoWhiteRev.marginRight="-195px"),this.pictureHeight=this.$refs.originPicture.clientHeight,this.defaultHeaderClip=this.getInfoClipParam(this.$refs.infoWhiteHeader),this.defaultDescClip=this.getInfoClipParam(this.$refs.infoWhiteDesc)},itemScroll:function(){var t=window.pageYOffset;if(this.isOpen){var e=this.getOffsetTop(this.$refs.workItem),i=this.listWrapHeight-this.pictureHeight,s=e+i,r=this.defaultHeaderClip,n=this.defaultDescClip;if(this.toggleOpen&&t>e)if(t<s){this.infoFixed=!0,this.infoTop=0;var o=this.getNearestInfoPic(this.$refs.infoWhiteHeader),a=o.dom,l=o.isBackgroundWhite,c=this.getNearestInfoPic(this.$refs.infoWhiteDesc),d=c.dom,u=c.isBackgroundWhite;r=this.getInfoClipParam(this.$refs.infoWhiteHeader,a),n=this.getInfoClipParam(this.$refs.infoWhiteDesc,d),this.toggleByBackground(!0,l),this.toggleByBackground(!1,u)}else this.infoFixed=!1,this.infoTop=i;else this.infoFixed=!1,this.infoTop=0;this.toggleInfoClip(!0,r),this.toggleInfoClip(!1,n)}},triggerOver:function(){this.workItemOv=!0},triggerOut:function(){this.workItemOv=!1},triggerClick:function(){if(!this.itemClicked){if(this.itemClicked=!0,this.isOpen)return void this.closeItem();this.waitOpenItem();var t=this;setTimeout(function(){t.openItem()},200)}},closeItem:function(){a.default.scrollTop(window.document.body,this.getOffsetTop(this.$refs.workItem)-50,d);var t=this;setTimeout(function(){t.listWrapHeight=0,t.listShowClass=!1,t.teaserPicShow=!0,t.teaserHideClass=!1,t.teaserAbsClass=!1,t.toggleOpen=!1,t.itemScroll(),t.isOpen=!1,t.itemClicked=!1},d)},waitOpenItem:function(){this.waitStartTime=(new Date).getTime(),this.teaserLoadingBgShow=!0,this.teaserLoadingShow=!0,this.teaserPicShow=!1},openItem:function(){var t=(new Date).getTime(),e=d-(t-this.waitStartTime);e<0&&(e=0),this.teaserAbsClass=!0,this.teaserHideClass=!1,this.listShowClass=!0,this.listWrapHeight=this.pictureHeight,this.itemScroll();var i=this;setTimeout(function(){i.teaserLoadingShow=!1,setTimeout(function(){i.teaserScrollArrowShow=!0,setTimeout(function(){i.teaserLoadingBgShow=!1,i.listWrapHeight=(0,n.default)(i.$refs.picAreaList).outerHeight(),i.itemClicked=!1,setTimeout(function(){i.isOpen&&(i.teaserScrollArrowShow=!1,i.teaserHideClass=!0,i.teaserAbsClass=!1)},2e3)},200)},200)},e),this.isOpen=!0,this.toggleOpen=!0},toggleInfoClip:function(t,e){var i="rect("+e.t+"px, "+e.r+"px, "+e.b+"px, "+e.l+"px)";t?this.infoWhiteHeaderClip.clip=i:this.infoWhiteDescClip.clip=i},toggleByBackground:function(t,e){t?this.infoWhiteHeaderChanged=e:this.infoWhiteDescChanged=e},getNearestInfoPic:function(t){for(var e=this.getOffsetTop(t)+t.clientHeight,i=this.$refs.pictures.length,s=i-1;s>=0;s--){var r=this.$refs.pictures[s];if(this.getOffsetTop(r)<e)return{dom:r,isBackgroundWhite:this.item.content[s].isBackgroundWhite}}},getInfoClipParam:function(t,e){var i=t.clientWidth,s=t.clientHeight;if(e){var r=this.getOffsetTop(t),n=r+s,o=this.getOffsetTop(e),a=o+e.clientHeight;return{l:0,r:i,t:o>r?o-r:0,b:a<n?a-r:s}}return{l:0,r:i,t:0,b:s}},getOffsetTop:function(t){return(0,n.default)(t).offset().top}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(86),n=s(r),o=i(84),a=s(o);e.default={name:"item-list",components:{Spinner:n.default,Item:a.default},props:{type:String},data:function(){return{loading:!0,displayedItems:[]}},beforeMount:function(){var t=this,e=(new Date).getTime(),i="design"===this.type?"FETCH_DESIGN":"FETCH_PHOTO";this.$store.dispatch(i).then(function(i){t.displayedItems=i;var s=900-((new Date).getTime()-e);s<0&&(s=0);var r=t;setTimeout(function(){r.loading=!1},s)})},methods:{onScroll:function(t,e){}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(20),n=s(r);e.default={props:["show"],watch:{show:function(t){this.toggleBodyClass(t)}},mounted:function(){this.toggleBodyClass(this.show)},methods:{toggleBodyClass:function(t){t?(0,n.default)(window.document.body).addClass("siteLoading-open"):(0,n.default)(window.document.body).removeClass("siteLoading-open")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"about",data:function(){return{loading:!0,user:{}}},beforeMount:function(){var t=this;this.$store.dispatch("FETCH_USER").then(function(e){t.user=e,t.loading=!1})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,i){var s,r;i(77),s=i(36);var n=i(90);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},function(t,e,i){var s,r;i(78),s=i(37);var n=i(91);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},function(t,e,i){var s,r;i(79),s=i(38);var n=i(92);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},function(t,e,i){var s,r;i(76),s=i(39);var n=i(89);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},function(t,e,i){var s,r;i(75),s=i(40);var n=i(88);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about-container"},[i("div",{staticClass:"card about-card"},[i("h1",{staticClass:"title"},[t._v(t._s(t.user.name))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.user.profile))]),t._v(" "),i("img",{staticClass:"picture",class:{invisible:!t.user.picture},attrs:{src:t.user.picture}}),t._v(" "),i("p",{staticClass:"card-footer"},[t._v("Email: "+t._s(t.user.email))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"siteLoading"},[i("div",{staticClass:"loadingLines",class:{show:t.show}},[i("div",{staticClass:"line1"}),t._v(" "),i("div",{staticClass:"line2"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"siteHeader"},[i("h2",[i("router-link",{attrs:{to:"/"}},[t._v("copyright© 2011-2017 MOMO SONG, all rights reserved.")])],1),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"rightBlock"},[i("h1",[i("router-link",{attrs:{to:"photography"}},[t._v("Photography")])],1),t._v(" "),i("div",{staticClass:"nav"},[i("router-link",{attrs:{to:"design"}},[t._v("design")]),i("span",[t._v("·")]),i("router-link",{attrs:{to:"profile"}},[t._v("profile")])],1)])]),t._v(" "),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{staticClass:"view"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"workItem",staticClass:"work-item",class:{rev:!t.itemOdd,open:t.toggleOpen,ov:t.workItemOv}},[i("div",{ref:"infoBlack",staticClass:"info info-black",class:{fixed:t.infoFixed},style:{top:t.infoTop+"px"}},[i("div",{staticClass:"infoClip"},[i("div",{staticClass:"infoInr"},[i("h3",{style:t.styleInfoHeader},[i("div",{ref:"infoHeader",staticClass:"inr"},[i("a",{style:{cursor:t.triggerCursor},attrs:{href:"javascript:void(0);"},on:{click:t.triggerClick,mouseover:t.triggerOver,mouseout:t.triggerOut}},[t._v(t._s(t.itemTitle)),i("br"),t._v(t._s(t.item.location))])])]),t._v(" "),i("div",{staticClass:"date"},[t._v("posted at "+t._s(t.item.year)+"."+t._s(t.item.month)+"."+t._s(t.item.dayInMonth))]),t._v(" "),i("div",{staticClass:"desc",style:t.styleInfoDesc},[i("div",{ref:"infoDesc",staticClass:"inr"},[t._v(t._s(t.item.desc)),t._l(t.item.tools,function(e){return[i("br"),t._v(t._s(e))]})],2)])])]),t._v(" "),i("div",{staticClass:"mark mark-plus"},[t._v("+")]),t._v(" "),i("div",{staticClass:"mark mark-minus"},[t._v("_")])]),t._v(" "),i("div",{ref:"picArea",staticClass:"picArea"},[i("div",{staticClass:"listWrap",style:{height:t.listWrapHeight+"px"}},[i("div",{ref:"picAreaList",staticClass:"list",class:{show:t.listShowClass}},t._l(t.item.content,function(t){return i("div",{ref:"pictures",refInFor:!0,staticClass:"row"},[i("div",{staticClass:"pic",staticStyle:{width:"800px",height:"600px"},attrs:{"data-clr":"white"}},[i("img",{staticClass:"show",attrs:{alt:"item.desc",width:"800",height:"600",src:t.src}})])])}))]),t._v(" "),i("div",{staticClass:"teaser",class:{abs:t.teaserAbsClass,hide:t.teaserHideClass}},[i("a",{style:{cursor:t.triggerCursor},attrs:{href:"javascript:void(0);"},on:{click:t.triggerClick,mouseover:t.triggerOver,mouseout:t.triggerOut}},[i("div",{ref:"originPicture",staticClass:"pic",class:{hide:!t.teaserPicShow},staticStyle:{width:"800px",height:"600px"}},[i("img",{staticClass:"show",attrs:{alt:t.item.desc,width:"800",height:"600",src:t.item.cover}})])]),t._v(" "),i("div",{staticClass:"black",class:{show:t.teaserLoadingBgShow}}),t._v(" "),i("div",{staticClass:"loadingLines",class:{show:t.teaserLoadingShow}},[i("div",{staticClass:"line1"}),t._v(" "),i("div",{staticClass:"line2"})]),t._v(" "),i("div",{staticClass:"scrollArw",class:{show:t.teaserScrollArrowShow}},[i("div",{staticClass:"arw1"}),t._v(" "),i("div",{staticClass:"arw2"})])])]),t._v(" "),i("div",{ref:"infoWhite",staticClass:"info info-white",class:{fixed:t.infoFixed},style:{top:t.infoTop+"px"}},[i("div",{staticClass:"infoClip",style:t.styleInfoWhite},[i("div",{staticClass:"infoInr",style:t.styleInfoWhiteRev},[i("h3",{style:t.styleInfoHeader},[i("div",{ref:"infoWhiteHeader",staticClass:"inr",class:{black:t.infoWhiteHeaderChanged},style:t.infoWhiteHeaderClip},[i("a",{style:{cursor:t.triggerCursor},attrs:{href:"javascript:void(0);"},on:{click:t.triggerClick,mouseover:t.triggerOver,mouseout:t.triggerOut}},[t._v(t._s(t.itemTitle)),i("br"),t._v(t._s(t.item.location))])])]),t._v(" "),i("div",{staticClass:"date"},[t._v("posted at "+t._s(t.item.year)+"."+t._s(t.item.month)+"."+t._s(t.item.dayInMonth))]),t._v(" "),i("div",{staticClass:"desc",style:t.styleInfoDesc},[i("div",{ref:"infoWhiteDesc",staticClass:"inr",class:{black:t.infoWhiteDescChanged},style:t.infoWhiteDescClip},[t._v(t._s(t.item.desc)),t._l(t.item.tools,function(e){return[i("br"),t._v(t._s(e))]})],2)])])]),t._v(" "),i("div",{staticClass:"mark mark-plus"},[t._v("+")]),t._v(" "),i("div",{staticClass:"mark mark-minus"},[t._v("_")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"work-container",on:{scroll:t.onScroll}},[i("spinner",{attrs:{show:t.loading}}),t._v(" "),i("transition",{attrs:{name:"slide-up"}},[i("div",{staticClass:"work-list"},[i("transition-group",{attrs:{tag:"div",name:"item"}},t._l(t.displayedItems,function(t,e){return i("item",{key:t.id,attrs:{item:t,index:e}})}))],1)])],1)},staticRenderFns:[]}},,,,function(t,e){}]);
//# sourceMappingURL=app.f8c3c9c9335bae01e581.js.map